import streamlit as st
import pandas as pd
import time

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙØ­Ø© (Size 20 ÙˆØ®Ø·ÙˆØ· ÙˆØ§Ø¶Ø­Ø©)
st.set_page_config(layout="wide", page_title="Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ù‚Ù†Ø§Øµ V42.3")

st.markdown("""
    <style>
    .big-font { font-size:20px !important; font-weight: bold; }
    .stTable { font-size: 20px !important; }
    </style>
    """, unsafe_allow_html=True)

st.title("ğŸ’ (Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø³Ø±ÙŠØ¹Ø©) V42.2/V42.3 Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ù‚Ù†Ø§Øµ ğŸ’")

# Ù…Ù†Ø·Ù‚ Ø§Ù„Ø§Ø³ØªØ¨Ø§Ù‚ ÙˆØ­Ø³Ø§Ø¨ Ø§Ù„Ø¬ÙˆØ¯Ø©
def get_radar_data():
    # Ù‡Ù†Ø§ ÙŠØªÙ… Ø§Ù„Ø±Ø¨Ø· Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø­Ø¸ÙŠØ© (Yahoo Finance Ø£Ùˆ ØºÙŠØ±Ù‡Ø§)
    # Ù…Ù„Ø§Ø­Ø¸Ø©: Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ØªØ¹Ø§ÙƒØ³ Ù…Ø§ Ø±Ø£ÙŠÙ†Ø§Ù‡ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù„Ù„ØªÙˆØ¶ÙŠØ­
    data = {
        "Ø§Ù„Ø³Ù‡Ù…": ["SPY", "AAPL", "NVDA", "TSLA", "MSFT"],
        "Ø§Ù„Ø³Ø¹Ø±": [695.12, 256.45, 191.66, 434.73, 479.96],
        "RSI": [52, 61, 42, 51, 46],
        "ÙŠÙˆÙ…ÙŠ %": ["+0.05%", "-0.72%", "+1.67%", "+0.89%", "-0.13%"],
        "Ø§Ù„Ø¬ÙˆØ¯Ø©": ["ØªØ¬Ù…ÙŠØ¹ Ø³ÙŠÙˆÙ„Ø© ğŸ“¦", "Ù…Ù…ØªØ§Ø²Ø© âœ…", "Ù…Ù…ØªØ§Ø²Ø© âœ…", "Ù…Ù…ØªØ§Ø²Ø© âœ…", "Ø¹ÙƒØ³ Ø§Ù„ØªÙŠØ§Ø± âš ï¸"],
        "IV": ["7.1%", "17.2%", "24.6%", "24.5%", "18.7%"],
        "Ø¥Ø´Ø§Ø±Ø©": ["ğŸŸ¡", "ğŸŸ¢", "ğŸ”´", "ğŸŸ¢", "âšª"]
    }
    return pd.DataFrame(data)

# ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
placeholder = st.empty()

while True:
    df = get_radar_data()
    with placeholder.container():
        # Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù‚Ù†Ø§Øµ
        st.table(df)
        
        # ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø§Ø³ØªØ¨Ø§Ù‚ (ØªØ¸Ù‡Ø± Ù‚Ø¨Ù„ Ø­Ø¯ÙˆØ« Ø§Ù„Ø­Ø±ÙƒØ©)
        for index, row in df.iterrows():
            if row['Ø§Ù„Ø¬ÙˆØ¯Ø©'] == "ØªØ¬Ù…ÙŠØ¹ Ø³ÙŠÙˆÙ„Ø© ğŸ“¦":
                st.warning(f"âš¡ ØªÙ†Ø¨ÙŠÙ‡ Ø§Ø³ØªØ¨Ø§Ù‚ÙŠ: {row['Ø§Ù„Ø³Ù‡Ù…']} ÙŠØ¬Ù…Ø¹ Ø³ÙŠÙˆÙ„Ø© Ø¹Ù†Ø¯ {row['Ø§Ù„Ø³Ø¹Ø±']}.. Ø§Ø³ØªØ¹Ø¯ Ù„Ø£Ù…Ø± Ø§Ù„Ø³ÙˆÙ‚!")
            elif row['RSI'] > 60:
                st.success(f"ğŸš€ Ø§Ù†ÙØ¬Ø§Ø± ÙˆØ´ÙŠÙƒ: {row['Ø§Ù„Ø³Ù‡Ù…']} ÙŠØªØ¬Ø§ÙˆØ² Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ù„Ø­Ø¸ÙŠØ©!")

    time.sleep(30)
